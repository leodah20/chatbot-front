<!doctype html>
<html lang="pt-br">
<head>
    <!-- Configuração básica da página -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ aviso.titulo }} - Painel Administrativo</title>

    <!-- Carregamento otimizado de fontes Google -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- CSS específico da seção de avisos -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/docentes_styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/common_buttons.css') }}">
</head>
<body>
    <!-- Cabeçalho principal -->
    <header>
        <div class="top">
            <!-- Logo e título da UNIP -->
            <div class="brand">
                <a href="{{ url_for('dashboard') }}" style="text-decoration: none;">
                  <img src="https://api.builder.io/api/v1/image/assets/TEMP/c31fcbcb8d593740846e1ea27ca675ca1434c256?width=558" alt="UNIP Logo">
                </a>
                <h1>Painel Administrativo</h1>
            </div>
            
            <!-- Informações do usuário logado -->
            <div class="user">
                <div class="meta">
                    <div class="name">{{ session.user.nome|title if session.user else 'Usuário' }}</div>
                    <div class="email">{{ session.user.email if session.user else '' }}</div>
                </div>
                <a href="{{ url_for('logout') }}" class="logout">sair</a>
            </div>
        </div>
        
        <!-- Navegação -->
        <div class="bottom">
            <div class="menu-toggle" style="position: relative; display: flex; align-items: center; gap: 14px;">
                <svg class="menu-icon" viewBox="0 0 26 20" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 25px; height: 19px;">
                    <path d="M24.9709 7.14124H1.97898M24.9709 1.47656H1.97898M24.9709 12.8059H1.97898M24.9709 18.4706H1.97898" stroke="white" stroke-width="1.9993" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span class="menu-text" style="color: white; font-size: 18px; font-weight: 500;">Menu</span>
                <div class="dropdown-menu">
                  <a href="{{ url_for('dashboard') }}" class="dropdown-item">Home</a>
                  <a href="{{ url_for('calendario_list') }}" class="dropdown-item">Calendário</a>
                  <a href="{{ url_for('conteudo_list') }}" class="dropdown-item">Conteúdo</a>
                  <a href="{{ url_for('docentes_list') }}" class="dropdown-item">Informações Docentes</a>
                  <a href="{{ url_for('infos_curso_list') }}" class="dropdown-item">Informações Curso</a>
                  <a href="{{ url_for('avisos_list') }}" class="dropdown-item">Avisos</a>
                  <a href="{{ url_for('duvidas_frequentes_list') }}" class="dropdown-item">Dúvidas Frequentes</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Conteúdo principal -->
    <main class="container">
        <!-- Card principal -->
        <div class="card">
            <!-- Cabeçalho da seção -->
            <div class="section-title">
                <svg class="icon" width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M35 15H5C3.61929 15 2.5 16.1193 2.5 17.5V32.5C2.5 33.8807 3.61929 35 5 35H35C36.3807 35 37.5 33.8807 37.5 32.5V17.5C37.5 16.1193 36.3807 15 35 15Z" fill="#1583FF"/>
                    <path d="M35 5H5C3.61929 5 2.5 6.11929 2.5 7.5V12.5C2.5 13.8807 3.61929 15 5 15H35C36.3807 15 37.5 13.8807 37.5 12.5V7.5C37.5 6.11929 36.3807 5 35 5Z" fill="#1583FF"/>
                    <path d="M8.75 8.75H31.25V11.25H8.75V8.75Z" fill="white"/>
                    <path d="M8.75 20H31.25V22.5H8.75V20Z" fill="white"/>
                    <path d="M8.75 25H31.25V27.5H8.75V25Z" fill="white"/>
                    <path d="M8.75 30H31.25V32.5H8.75V30Z" fill="white"/>
                </svg>
                <div>
                    <h2>Visualizar Aviso</h2>
                    <p>Detalhes completos do aviso</p>
                </div>
            </div>

            <!-- Sistema de mensagens flash -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <div class="flash-messages">
                        {% for category, message in messages %}
                            <div class="alert alert-{{ 'danger' if category == 'error' else 'success' if category == 'success' else 'info' }}">
                                {{ message }}
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}
            {% endwith %}

            <!-- Conteúdo do aviso -->
            <div class="aviso-detail">
                <!-- Cabeçalho do aviso -->
                <div class="aviso-header">
                    <h1 class="aviso-titulo">{{ aviso.titulo }}</h1>
                    <div class="aviso-meta">
                        <div class="meta-item">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M15.8333 3.33333H4.16667C3.24619 3.33333 2.5 4.07952 2.5 5V16.6667C2.5 17.5871 3.24619 18.3333 4.16667 18.3333H15.8333C16.7538 18.3333 17.5 17.5871 17.5 16.6667V5C17.5 4.07952 16.7538 3.33333 15.8333 3.33333Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M13.3333 1.66667V5M6.66667 1.66667V5M2.5 8.33333H17.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <span>Data: {{ aviso.data }}</span>
                        </div>
                        
                        {% if aviso.id_professor %}
                        <div class="meta-item">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 10C12.7614 10 15 7.76142 15 5C15 2.23858 12.7614 0 10 0C7.23858 0 5 2.23858 5 5C5 7.76142 7.23858 10 10 10Z" fill="currentColor"/>
                                <path d="M0 17.5C0 13.9101 2.91015 11 6.5 11H13.5C17.0899 11 20 13.9101 20 17.5V20H0V17.5Z" fill="currentColor"/>
                            </svg>
                            <span>Autor: Professor</span>
                        </div>
                        {% elif aviso.id_coordenador %}
                        <div class="meta-item">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 10C12.7614 10 15 7.76142 15 5C15 2.23858 12.7614 0 10 0C7.23858 0 5 2.23858 5 5C5 7.76142 7.23858 10 10 10Z" fill="currentColor"/>
                                <path d="M0 17.5C0 13.9101 2.91015 11 6.5 11H13.5C17.0899 11 20 13.9101 20 17.5V20H0V17.5Z" fill="currentColor"/>
                            </svg>
                            <span>Autor: Coordenador</span>
                        </div>
                        {% endif %}
                        
                        <div class="meta-item">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 1.25C5.83333 1.25 2.275 3.75 1.25 7.5C2.275 11.25 5.83333 13.75 10 13.75C14.1667 13.75 17.725 11.25 18.75 7.5C17.725 3.75 14.1667 1.25 10 1.25Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M10 10C11.3807 10 12.5 8.88071 12.5 7.5C12.5 6.11929 11.3807 5 10 5C8.61929 5 7.5 6.11929 7.5 7.5C7.5 8.88071 8.61929 10 10 10Z" fill="currentColor"/>
                            </svg>
                            <span>ID: {{ aviso.id_aviso }}</span>
                        </div>
                    </div>
                </div>
                
                <!-- Conteúdo do aviso -->
                <div class="aviso-conteudo">
                    <div class="conteudo-texto">
                        {{ aviso.conteudo|replace('\n', '<br>')|safe }}
                    </div>
                </div>
                
                <!-- Ações do aviso -->
                <div class="aviso-actions" style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                    <a href="{{ url_for('avisos_edit', aviso_id=aviso.id_aviso) }}" class="btn-edit-info">
                        <svg class="icon-edit" width="16" height="16" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M23.375 4.00008C23.7361 3.64989 24.1649 3.3721 24.6367 3.18258C25.1086 2.99305 25.6143 2.89551 26.125 2.89551C26.6357 2.89551 27.1414 2.99305 27.6133 3.18258C28.0851 3.3721 28.5139 3.64989 28.875 4.00008C29.2361 4.35027 29.5226 4.76601 29.7181 5.22355C29.9135 5.6811 30.0141 6.1715 30.0141 6.66674C30.0141 7.16199 29.9135 7.65239 29.7181 8.10993C29.5226 8.56748 29.2361 8.98322 28.875 9.33341L10.3125 27.3334L2.75 29.3334L4.8125 22.0001L23.375 4.00008Z" stroke="#2C8DFA" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>Editar Informações</span>
                    </a>
                    
                    <form method="POST" action="{{ url_for('avisos_delete', aviso_id=aviso.id_aviso) }}" style="display: inline;" onsubmit="return confirm('Tem certeza que deseja remover este aviso? Esta ação não pode ser desfeita.')">
                        <button type="submit" class="btn-edit-info" style="background-color: #dc3545; color: white; border: none; cursor: pointer;">
                            <svg class="icon-edit" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M3 6H5H21M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M10 11V17M14 11V17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <span>Apagar</span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <!-- Estilos específicos para visualização -->
    <style>
        .aviso-detail {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .aviso-header {
            border-bottom: 2px solid #E5E7EB;
            padding-bottom: 24px;
            margin-bottom: 32px;
        }
        
        .aviso-titulo {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--unip-text-primary);
            margin-bottom: 16px;
            line-height: 1.2;
        }
        
        .aviso-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 24px;
            align-items: center;
        }
        
        .meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--unip-text-secondary);
            font-size: 0.875rem;
        }
        
        .meta-item svg {
            color: var(--unip-accent);
        }
        
        .aviso-conteudo {
            background: #F9FAFB;
            border-radius: var(--radius-lg);
            padding: 32px;
            margin-bottom: 32px;
        }
        
        .conteudo-texto {
            font-size: 1.125rem;
            line-height: 1.7;
            color: var(--unip-text-primary);
        }
        
        .aviso-actions {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        @media (max-width: 768px) {
            .aviso-titulo {
                font-size: 2rem;
            }
            
            .aviso-meta {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
            }
            
            .aviso-actions {
                flex-direction: column;
            }
            
            .aviso-actions .btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</body>
</html>
