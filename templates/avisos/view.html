<!doctype html>
<html lang="pt-br">
<head>
    <!-- Configuração básica da página -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ aviso.titulo }} - Painel Administrativo</title>

    <!-- Carregamento otimizado de fontes Google -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- CSS específico da seção de avisos -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/docentes_styles.css') }}">
</head>
<body>
    <!-- Cabeçalho principal -->
    <header>
        <div class="top">
            <!-- Logo e título da UNIP -->
            <div class="brand">
                <img src="https://api.builder.io/api/v1/image/assets/TEMP/c31fcbcb8d593740846e1ea27ca675ca1434c256?width=558" alt="UNIP Logo">
                <h1>Painel Administrativo</h1>
            </div>
            
            <!-- Informações do usuário logado -->
            <div class="user">
                <div class="meta">
                    <div class="name">{{ session.user.nome|title if session.user else 'Usuário' }}</div>
                    <div class="email">{{ session.user.email if session.user else '' }}</div>
                </div>
                <a href="{{ url_for('logout') }}" class="logout">sair</a>
            </div>
        </div>
        
        <!-- Navegação -->
        <div class="bottom">
            <!-- Link para voltar à lista de avisos -->
            <a href="{{ url_for('avisos_list') }}" style="color: white; text-decoration: none; display: flex; align-items: center; gap: 12px;">
                <svg class="icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.8333 10H4.16667M10 4.16667L4.16667 10L10 15.8333" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Voltar aos Avisos</span>
            </a>
        </div>
    </header>

    <!-- Conteúdo principal -->
    <main class="container">
        <!-- Card principal -->
        <div class="card">
            <!-- Cabeçalho da seção -->
            <div class="section-title">
                <svg class="icon" width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M35 15H5C3.61929 15 2.5 16.1193 2.5 17.5V32.5C2.5 33.8807 3.61929 35 5 35H35C36.3807 35 37.5 33.8807 37.5 32.5V17.5C37.5 16.1193 36.3807 15 35 15Z" fill="#1583FF"/>
                    <path d="M35 5H5C3.61929 5 2.5 6.11929 2.5 7.5V12.5C2.5 13.8807 3.61929 15 5 15H35C36.3807 15 37.5 13.8807 37.5 12.5V7.5C37.5 6.11929 36.3807 5 35 5Z" fill="#1583FF"/>
                    <path d="M8.75 8.75H31.25V11.25H8.75V8.75Z" fill="white"/>
                    <path d="M8.75 20H31.25V22.5H8.75V20Z" fill="white"/>
                    <path d="M8.75 25H31.25V27.5H8.75V25Z" fill="white"/>
                    <path d="M8.75 30H31.25V32.5H8.75V30Z" fill="white"/>
                </svg>
                <div>
                    <h2>Visualizar Aviso</h2>
                    <p>Detalhes completos do aviso</p>
                </div>
            </div>

            <!-- Sistema de mensagens flash -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <div class="flash-messages">
                        {% for category, message in messages %}
                            <div class="alert alert-{{ 'danger' if category == 'error' else 'success' if category == 'success' else 'info' }}">
                                {{ message }}
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}
            {% endwith %}

            <!-- Conteúdo do aviso -->
            <div class="aviso-detail">
                <!-- Cabeçalho do aviso -->
                <div class="aviso-header">
                    <h1 class="aviso-titulo">{{ aviso.titulo }}</h1>
                    <div class="aviso-meta">
                        <div class="meta-item">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M15.8333 3.33333H4.16667C3.24619 3.33333 2.5 4.07952 2.5 5V16.6667C2.5 17.5871 3.24619 18.3333 4.16667 18.3333H15.8333C16.7538 18.3333 17.5 17.5871 17.5 16.6667V5C17.5 4.07952 16.7538 3.33333 15.8333 3.33333Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M13.3333 1.66667V5M6.66667 1.66667V5M2.5 8.33333H17.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <span>Data: {{ aviso.data }}</span>
                        </div>
                        
                        {% if aviso.id_professor %}
                        <div class="meta-item">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 10C12.7614 10 15 7.76142 15 5C15 2.23858 12.7614 0 10 0C7.23858 0 5 2.23858 5 5C5 7.76142 7.23858 10 10 10Z" fill="currentColor"/>
                                <path d="M0 17.5C0 13.9101 2.91015 11 6.5 11H13.5C17.0899 11 20 13.9101 20 17.5V20H0V17.5Z" fill="currentColor"/>
                            </svg>
                            <span>Autor: Professor</span>
                        </div>
                        {% elif aviso.id_coordenador %}
                        <div class="meta-item">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 10C12.7614 10 15 7.76142 15 5C15 2.23858 12.7614 0 10 0C7.23858 0 5 2.23858 5 5C5 7.76142 7.23858 10 10 10Z" fill="currentColor"/>
                                <path d="M0 17.5C0 13.9101 2.91015 11 6.5 11H13.5C17.0899 11 20 13.9101 20 17.5V20H0V17.5Z" fill="currentColor"/>
                            </svg>
                            <span>Autor: Coordenador</span>
                        </div>
                        {% endif %}
                        
                        <div class="meta-item">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 1.25C5.83333 1.25 2.275 3.75 1.25 7.5C2.275 11.25 5.83333 13.75 10 13.75C14.1667 13.75 17.725 11.25 18.75 7.5C17.725 3.75 14.1667 1.25 10 1.25Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M10 10C11.3807 10 12.5 8.88071 12.5 7.5C12.5 6.11929 11.3807 5 10 5C8.61929 5 7.5 6.11929 7.5 7.5C7.5 8.88071 8.61929 10 10 10Z" fill="currentColor"/>
                            </svg>
                            <span>ID: {{ aviso.id_aviso }}</span>
                        </div>
                    </div>
                </div>
                
                <!-- Conteúdo do aviso -->
                <div class="aviso-conteudo">
                    <div class="conteudo-texto">
                        {{ aviso.conteudo|replace('\n', '<br>')|safe }}
                    </div>
                </div>
                
                <!-- Ações do aviso -->
                <div class="aviso-actions">
                    <a href="{{ url_for('avisos_edit', aviso_id=aviso.id_aviso) }}" class="btn btn-primary">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M11.25 2.5L17.5 8.75L6.25 20H2.5V16.25L11.25 2.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14.375 5.625L16.875 8.125" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Editar Aviso
                    </a>
                    
                    <a href="{{ url_for('avisos_list') }}" class="btn btn-secondary">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15.8333 10H4.16667M10 4.16667L4.16667 10L10 15.8333" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Voltar à Lista
                    </a>
                    
                    <form method="POST" action="{{ url_for('avisos_delete', aviso_id=aviso.id_aviso) }}" style="display: inline;" onsubmit="return confirm('Tem certeza que deseja remover este aviso? Esta ação não pode ser desfeita.')">
                        <button type="submit" class="btn btn-danger">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M2.5 5H4.16667H17.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M6.66663 5V3.33333C6.66663 2.89131 6.84222 2.46738 7.15478 2.15482C7.46734 1.84226 7.89127 1.66667 8.33329 1.66667H11.6666C12.1087 1.66667 12.5326 1.84226 12.8451 2.15482C13.1577 2.46738 13.3333 2.89131 13.3333 3.33333V5M15.8333 5V16.6667C15.8333 17.1087 15.6577 17.5326 15.3451 17.8452C15.0326 18.1577 14.6087 18.3333 14.1666 18.3333H5.83329C5.39127 18.3333 4.96734 18.1577 4.65478 17.8452C4.34222 17.5326 4.16663 17.1087 4.16663 16.6667V5H15.8333Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M8.33337 9.16667V14.1667" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M11.6666 9.16667V14.1667" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            Remover Aviso
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <!-- Estilos específicos para visualização -->
    <style>
        .aviso-detail {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .aviso-header {
            border-bottom: 2px solid #E5E7EB;
            padding-bottom: 24px;
            margin-bottom: 32px;
        }
        
        .aviso-titulo {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--unip-text-primary);
            margin-bottom: 16px;
            line-height: 1.2;
        }
        
        .aviso-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 24px;
            align-items: center;
        }
        
        .meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--unip-text-secondary);
            font-size: 0.875rem;
        }
        
        .meta-item svg {
            color: var(--unip-accent);
        }
        
        .aviso-conteudo {
            background: #F9FAFB;
            border-radius: var(--radius-lg);
            padding: 32px;
            margin-bottom: 32px;
        }
        
        .conteudo-texto {
            font-size: 1.125rem;
            line-height: 1.7;
            color: var(--unip-text-primary);
        }
        
        .aviso-actions {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        @media (max-width: 768px) {
            .aviso-titulo {
                font-size: 2rem;
            }
            
            .aviso-meta {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
            }
            
            .aviso-actions {
                flex-direction: column;
            }
            
            .aviso-actions .btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</body>
</html>
